<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Nervedex module | NerveNetwork</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="Decentralized digital asset service network.">
    <link rel="preload" href="/assets/css/0.styles.1657c744.css" as="style"><link rel="preload" href="/assets/js/app.577c4faa.js" as="script"><link rel="preload" href="/assets/js/2.bb387f8d.js" as="script"><link rel="preload" href="/assets/js/29.1b3b5ab1.js" as="script"><link rel="prefetch" href="/assets/js/10.330b17a2.js"><link rel="prefetch" href="/assets/js/100.d0d5ddbe.js"><link rel="prefetch" href="/assets/js/101.e969618e.js"><link rel="prefetch" href="/assets/js/102.79ec4e6d.js"><link rel="prefetch" href="/assets/js/103.33ccf3a0.js"><link rel="prefetch" href="/assets/js/104.6956efac.js"><link rel="prefetch" href="/assets/js/105.d14a5aed.js"><link rel="prefetch" href="/assets/js/106.90a8fa2a.js"><link rel="prefetch" href="/assets/js/107.53b7fa8e.js"><link rel="prefetch" href="/assets/js/108.a5d1692e.js"><link rel="prefetch" href="/assets/js/109.f5c5839f.js"><link rel="prefetch" href="/assets/js/11.f4508179.js"><link rel="prefetch" href="/assets/js/110.010b8ed6.js"><link rel="prefetch" href="/assets/js/111.85ec25b5.js"><link rel="prefetch" href="/assets/js/112.b4b9287a.js"><link rel="prefetch" href="/assets/js/113.d8ac164a.js"><link rel="prefetch" href="/assets/js/114.8030196c.js"><link rel="prefetch" href="/assets/js/115.a40cc8b5.js"><link rel="prefetch" href="/assets/js/116.8e1ce4e4.js"><link rel="prefetch" href="/assets/js/117.366dbf0d.js"><link rel="prefetch" href="/assets/js/118.151604a7.js"><link rel="prefetch" href="/assets/js/119.d3d8b02c.js"><link rel="prefetch" href="/assets/js/12.f74151f4.js"><link rel="prefetch" href="/assets/js/120.1596de44.js"><link rel="prefetch" href="/assets/js/121.cb33ded4.js"><link rel="prefetch" href="/assets/js/122.f601d6e0.js"><link rel="prefetch" href="/assets/js/123.22de0e69.js"><link rel="prefetch" href="/assets/js/124.130ba6dd.js"><link rel="prefetch" href="/assets/js/125.873f3c2c.js"><link rel="prefetch" href="/assets/js/126.86b3dca5.js"><link rel="prefetch" href="/assets/js/127.00aa3d7b.js"><link rel="prefetch" href="/assets/js/128.35d41b25.js"><link rel="prefetch" href="/assets/js/129.f20e63d1.js"><link rel="prefetch" href="/assets/js/13.d34fde9e.js"><link rel="prefetch" href="/assets/js/130.06b5b4a9.js"><link rel="prefetch" href="/assets/js/14.205e5c36.js"><link rel="prefetch" href="/assets/js/15.ead3c997.js"><link rel="prefetch" href="/assets/js/16.6537d3e6.js"><link rel="prefetch" href="/assets/js/17.80720025.js"><link rel="prefetch" href="/assets/js/18.d147f5e9.js"><link rel="prefetch" href="/assets/js/19.c2ce54f2.js"><link rel="prefetch" href="/assets/js/20.b9a78180.js"><link rel="prefetch" href="/assets/js/21.d7af0912.js"><link rel="prefetch" href="/assets/js/22.f2f216dc.js"><link rel="prefetch" href="/assets/js/23.5052d079.js"><link rel="prefetch" href="/assets/js/24.1e01fc74.js"><link rel="prefetch" href="/assets/js/25.dd70277b.js"><link rel="prefetch" href="/assets/js/26.1969bbe1.js"><link rel="prefetch" href="/assets/js/27.d1cb0cb9.js"><link rel="prefetch" href="/assets/js/28.c36eb09d.js"><link rel="prefetch" href="/assets/js/3.a4fcaec8.js"><link rel="prefetch" href="/assets/js/30.7b0142a4.js"><link rel="prefetch" href="/assets/js/31.11543cbc.js"><link rel="prefetch" href="/assets/js/32.7c918dbc.js"><link rel="prefetch" href="/assets/js/33.cd4efa36.js"><link rel="prefetch" href="/assets/js/34.a89ec8d0.js"><link rel="prefetch" href="/assets/js/35.d1b553f9.js"><link rel="prefetch" href="/assets/js/36.9f053be9.js"><link rel="prefetch" href="/assets/js/37.f93d7109.js"><link rel="prefetch" href="/assets/js/38.a8902787.js"><link rel="prefetch" href="/assets/js/39.be5fd845.js"><link rel="prefetch" href="/assets/js/4.8651da5b.js"><link rel="prefetch" href="/assets/js/40.e4d4c229.js"><link rel="prefetch" href="/assets/js/41.4f6a1201.js"><link rel="prefetch" href="/assets/js/42.2b69e666.js"><link rel="prefetch" href="/assets/js/43.0f9a3315.js"><link rel="prefetch" href="/assets/js/44.4b3d6393.js"><link rel="prefetch" href="/assets/js/45.795fcdc2.js"><link rel="prefetch" href="/assets/js/46.3915129c.js"><link rel="prefetch" href="/assets/js/47.7e5f9c76.js"><link rel="prefetch" href="/assets/js/48.80417c0a.js"><link rel="prefetch" href="/assets/js/49.9f56e8bd.js"><link rel="prefetch" href="/assets/js/5.303a4712.js"><link rel="prefetch" href="/assets/js/50.8ffdfb62.js"><link rel="prefetch" href="/assets/js/51.cc60c929.js"><link rel="prefetch" href="/assets/js/52.464d8eb9.js"><link rel="prefetch" href="/assets/js/53.dbfaa198.js"><link rel="prefetch" href="/assets/js/54.14d0495e.js"><link rel="prefetch" href="/assets/js/55.27a6be02.js"><link rel="prefetch" href="/assets/js/56.135c73bd.js"><link rel="prefetch" href="/assets/js/57.250e5ee5.js"><link rel="prefetch" href="/assets/js/58.2642bd15.js"><link rel="prefetch" href="/assets/js/59.d4a52d89.js"><link rel="prefetch" href="/assets/js/6.2c5012bb.js"><link rel="prefetch" href="/assets/js/60.26fdfd8d.js"><link rel="prefetch" href="/assets/js/61.1106bb9b.js"><link rel="prefetch" href="/assets/js/62.1d0d88b7.js"><link rel="prefetch" href="/assets/js/63.990591dc.js"><link rel="prefetch" href="/assets/js/64.0a389396.js"><link rel="prefetch" href="/assets/js/65.4c6c891d.js"><link rel="prefetch" href="/assets/js/66.146cac3c.js"><link rel="prefetch" href="/assets/js/67.586c5f2a.js"><link rel="prefetch" href="/assets/js/68.f2cc7f04.js"><link rel="prefetch" href="/assets/js/69.3678f6dd.js"><link rel="prefetch" href="/assets/js/7.81ff7daa.js"><link rel="prefetch" href="/assets/js/70.535b0183.js"><link rel="prefetch" href="/assets/js/71.fc87155b.js"><link rel="prefetch" href="/assets/js/72.8c219c00.js"><link rel="prefetch" href="/assets/js/73.aae71813.js"><link rel="prefetch" href="/assets/js/74.5885ac1b.js"><link rel="prefetch" href="/assets/js/75.a44cda35.js"><link rel="prefetch" href="/assets/js/76.67fe0242.js"><link rel="prefetch" href="/assets/js/77.1b757358.js"><link rel="prefetch" href="/assets/js/78.869ffee0.js"><link rel="prefetch" href="/assets/js/79.d6cd31db.js"><link rel="prefetch" href="/assets/js/8.f0a1acf1.js"><link rel="prefetch" href="/assets/js/80.7014ba1e.js"><link rel="prefetch" href="/assets/js/81.5e3ef2a4.js"><link rel="prefetch" href="/assets/js/82.1011eb57.js"><link rel="prefetch" href="/assets/js/83.ea3a5dc2.js"><link rel="prefetch" href="/assets/js/84.caee765e.js"><link rel="prefetch" href="/assets/js/85.65bafa6a.js"><link rel="prefetch" href="/assets/js/86.9343789d.js"><link rel="prefetch" href="/assets/js/87.40851d2e.js"><link rel="prefetch" href="/assets/js/88.f436c245.js"><link rel="prefetch" href="/assets/js/89.1b7a862d.js"><link rel="prefetch" href="/assets/js/9.ebab4fdd.js"><link rel="prefetch" href="/assets/js/90.546d2012.js"><link rel="prefetch" href="/assets/js/91.173d1269.js"><link rel="prefetch" href="/assets/js/92.7debe783.js"><link rel="prefetch" href="/assets/js/93.9ea34445.js"><link rel="prefetch" href="/assets/js/94.2ada92b8.js"><link rel="prefetch" href="/assets/js/95.09407279.js"><link rel="prefetch" href="/assets/js/96.632470c9.js"><link rel="prefetch" href="/assets/js/97.2df170cb.js"><link rel="prefetch" href="/assets/js/98.b12d4564.js"><link rel="prefetch" href="/assets/js/99.c90b8fb0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.1657c744.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">NerveNetwork</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/Docs/" class="nav-link router-link-active">
  Develop
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Docs/dex_module.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/Docs/dex_module.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/NerveNetwork/nerve-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/Docs/" class="nav-link router-link-active">
  Develop
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Docs/dex_module.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/Docs/dex_module.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/NerveNetwork/nerve-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>DEX</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Docs/dex_design.html" class="sidebar-link">NerveDEX设计文档</a></li><li><a href="/Docs/dex_api.html" class="sidebar-link">NerveDEX-API</a></li><li><a href="/Docs/dex_module.html" class="active sidebar-link">Nervedex module</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Docs/dex_module.html#why-have-nervedex-modules" class="sidebar-link">Why have nervedex modules?</a></li><li class="sidebar-sub-header"><a href="/Docs/dex_module.html#what-does-dex-module-do" class="sidebar-link">What does DEX module do?</a></li><li class="sidebar-sub-header"><a href="/Docs/dex_module.html#features-of-nervedex" class="sidebar-link">Features of nervedex</a></li><li class="sidebar-sub-header"><a href="/Docs/dex_module.html#dex-transaction-module-protocol" class="sidebar-link">DEX transaction module protocol</a></li><li class="sidebar-sub-header"><a href="/Docs/dex_module.html#underlying-implementation-mechanism-of-nervedex-module" class="sidebar-link">Underlying implementation mechanism of nervedex module</a></li><li class="sidebar-sub-header"><a href="/Docs/dex_module.html#others" class="sidebar-link">Others</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nervedex-module"><a href="#nervedex-module" class="header-anchor">#</a> Nervedex module</h1> <h2 id="why-have-nervedex-modules"><a href="#why-have-nervedex-modules" class="header-anchor">#</a> Why have nervedex modules?</h2> <p>Throughout the current encrypted asset market, centralized trading platforms are more friendly to Internet users because of their good user experience. Centralized asset trading platform has become the mainstream trading mode in the industry. With the rapid development of the industry, more and more centralized exchanges have been established,However, in fact, many trading platforms do not have their own technical teams and asset management capabilities. Centralized exchanges need to be responsible for holding and keeping the assets of all users. They must manage some centralized wallets that control huge assets,Hackers have stolen billions of dollars worth of digital assets, and these exchanges are running away because they can't bear the losses, which highlights a huge security risk faced by the whole industry. On the other hand, centralized exchanges need to constantly make profits to promote business development. In the centralized trading market, its data is opaque,Some central exchanges take advantage of the platform to master the trading behavior of users to obtain huge profits</p> <p>With the development of the industry, the demand for decentralized trading is increasing, and the underlying technology of blockchain is also making progress. If all transactions are point-to-point, for example, the decentralized trading platform will no longer need to hold and manage users' funds, making the whole industry safer;Users no longer need to register with the exchange as before, then frequently recharge and withdraw cash, and then wait for the exchange to confirm before they can trade normally. Users can directly use their own online address to register transactions, greatly simplifying the trading process, improving the user experience, and thus promoting the use of more currency investors. In addition, all transaction data are open and transparent,Users can be more assured to invest in encrypted assets, so as to promote the ecological development of the whole industry in a more benign direction</p> <p>Almost all people in the blockchain field believe that the decentralized trading platform is the future of cryptocurrency transactions. Nervedex aims to return the blockchain to its essence, make digital assets transparent in circulation and transaction, and provide users with a completely decentralized encryption asset trading platform. It ensures that from the creation of asset transaction pairs, to the user's entrusted order, and finally to the matching transaction,All information will be stored on the nervenetwork public chain, and the data will be completely open and transparent. We also provide dex-api module to allow more people or third-party institutions to build nervedex decentralized exchange nodes, and open API interfaces to the outside world, allowing third parties to customize their own centralized trading platform on the chain through dex-api,Colleagues ensure that users can easily and quickly entrust transactions on the node to improve the user experience</p> <h2 id="what-does-dex-module-do"><a href="#what-does-dex-module-do" class="header-anchor">#</a> What does DEX module do?</h2> <ul><li><p>The bottom layer supports transaction protocol, including transaction pair creation agreement, user entrustment list agreement, user revocation delegation order agreement, matching transaction agreement and cancellation order confirmation agreement</p></li> <li><p>Create a trade pair. After the new trade pair creation agreement is packaged and confirmed, the system will automatically create a trade pair opening</p></li> <li><p>The system will automatically put the newly initiated transaction into the trading port according to the rules of the transaction agreement
-The order matching transaction is completed. When the consensus node takes out the order in the trading pair slot in turn, matching and matching. After the matching is successful, the * * transaction * * is generated</p></li> <li><p>Cancellation order confirmation. After the user initiates the consignment order, because the price fails to match the successful transaction, the user can cancel the order by sending the cancellation order transaction. When the consensus node is packaged, it will process the transaction according to the order of the packaged transaction. If the transaction can be matched by issuing the existing new order before processing the cancellation order, the transaction will be matched first,If there is no matching order, the order will be cancelled directly
-Update the inventory. After confirming the transaction packed in the new block, the inventory data should be updated. Remove the orders that have been matched successfully or canceled, and then add new orders</p></li></ul> <h2 id="features-of-nervedex"><a href="#features-of-nervedex" class="header-anchor">#</a> Features of nervedex</h2> <p>At present, some decentralized trading platforms in the market have many assets on the Ethereum chain. Most of the decentralized exchanges only focus on Ethereum ecological assets and only exchange erc20 tokens. The limitations of these DEX are too large, limited by smart contracts,There will be a lack of several links in the whole transaction process (the whole process of the transaction: the creation of transaction pairs - the user's registration of orders for entrusted Trading - inventory data maintenance - user's cancellation of the order - transaction matching transaction); and the transaction process is restricted by the Ethereum network, and the transaction efficiency is low</p> <p>There are still few DEX protocols that focus on non Ethereum ecology in the whole industry. Nervedex is a new DEX module based on the bottom layer of nervenetwork blockchain. DEX module is responsible for the creation and verification of asset exchange transactions, the maintenance and matching of assets to inventory positions, and ultimately ensures the whole transaction process to form a closed loop,Nervedex has the following features:</p> <ul><li><p>Nervenetwork itself is a public chain. DEX module processes the whole asset transaction process by adding transaction protocol at the bottom</p></li> <li><p>Nervenetwork public chain pays more attention to the efficiency improvement of decentralized exchanges. In the whole chain, except for a small number of transfer transactions, there will only be data information of asset related transaction protocols. The underlying layer does not implement complex other logic, all processing logic has been written in the underlying module, so the execution efficiency will be higher, and all transactions sent can be confirmed within 2S</p></li> <li><p>It is easier to connect. Partners only need to understand the transaction protocol of DEX module, then query the block through the RPC interface, and then parse the transaction data in the block in order to obtain the desired information,The user can view the transaction information in the transaction center and the transaction information in the transaction center,Realize the visualization of data</p></li> <li><p>It supports the transaction of multi chain assets. Nervenetwork itself is a parallel chain belonging to the public chain of nuls. Therefore, all chain assets in the nuls ecosystem can be directly transferred to the nervenetwork chain through the cross chain protocol. After creating the asset transaction pairs, users can buy and sell on the order. In addition, nervenetwork also uses a unique heterogeneous cross chain network,It is allowed to transfer assets of other public chains to nervenetwork and nuls ecology. In this way, nervedex can also support the transaction of other public chain assets</p></li> <li><p>Users can generate NVT address and private key or keystore through nervenetwork wallet and other tools, and the private key is kept by the user himself. Users can easily log in to the visualized central exchange provided by the official or third-party node. After importing the private key or keystore, the user can start the order transaction</p></li> <li><p>The data is open and transparent. All the transaction information of the order, cancellation and transaction will be packed into the blockchain. Users can query and monitor at any time, and there will be no false transactions</p></li> <li><p>Transaction with ultra-low service charge. Although users will charge a little service charge for each order registration and cancellation, it is necessary for online transactions. For network security, only 0.02% matching service charge will be charged at the bottom of nervedex, and 50% of it will be used to exchange NVT for destruction</p></li></ul> <h2 id="dex-transaction-module-protocol"><a href="#dex-transaction-module-protocol" class="header-anchor">#</a> DEX transaction module protocol</h2> <p><strong>Create a deal pair agreement</strong></p> <p>The establishment of asset transaction pair is the premise for users to be able to trade orders normally. Only when the asset transaction pair is created can the inventory information be provided and the user can operate the order</p> <p>Restrictions:</p> <ul><li>For example, there must be two kinds of transaction information on the asset chain of nevetn</li> <li>For example, if a user has created a nulssnvt asset transaction pair, it cannot send a new transaction to create another nulssnvt asset transaction pair or nvttnuls asset transaction pair</li> <li>When the asset transaction pair is created, a specific handling fee (currently tentatively set at 20000 NVT) should be paid</li> <li>The minimum transaction unit of transaction currency and pricing currency must be set for asset transaction pair</li></ul> <p><strong>Agreement on consignment of bills</strong></p> <p>After the asset transaction pair is created, the user can place an order. After the transaction is packaged, it will be added to the port for matching</p> <p>Restrictions:</p> <ul><li>The system will charge 0.001 NVT as the service charge for each transaction</li> <li>The number of consigned orders shall not be less than the minimum trading unit</li></ul> <p><strong>Entrustment cancellation agreement</strong></p> <div class="language- extra-class"><pre><code>After the user hangs up the order entrusts, cannot transact a deal for a long time, the user may cancel the entrustment
</code></pre></div><p>Restrictions:</p> <ul><li>The system will charge 0.001 NVT as the service charge for each time the user sends a cancellation order</li> <li>Revoking a delegation cannot only cancel a part of the order</li></ul> <p><strong>Transaction pair modification agreement</strong></p> <p>After the asset transaction pair is created, the creator can modify the asset transaction pair information</p> <p>Restrictions:</p> <ul><li>Only the creator can modify it</li> <li>Only the minimum trading unit and the smallest visible decimal place can be modified. The information of the transaction pair itself cannot be modified. For example, nulssnvt transaction pair cannot be modified to btccnvt transaction pair</li> <li>The system will charge 0.001 NVT as the service charge for each transaction modification</li></ul> <p><strong>Transaction agreement</strong></p> <p>The transaction agreement is a system protocol. When the node packs the block, it matches it according to the current inventory data. After successful matching, the transaction agreement is generated and packaged into the block</p> <p>Restrictions:</p> <ul><li>It can only be generated when the consensus node packs blocks</li> <li>The order of the consensus node matchmaking must strictly abide by the nervedex module matchmaking rules (the specific rules will be described in detail later). The packaged blocks will be verified throughout the network. If the verification fails, the blocks will not be packed</li> <li>After successful matching, the nervedex API operator will charge 0.06% of the transaction value of the buyer and the seller as the matching fee</li> <li>If the user is the third-party node to provide visualization to the central exchange initiated by the entrusted order operation, after the summary and delivery, the third-party node can charge an additional 0.98% of the transaction value of the buyer and the seller according to its configuration as the service fee</li></ul> <p><strong>Cancellation order confirmation agreement</strong></p> <p>After a user initiates a revocation transaction, it is not always possible to cancel the delegation</p> <p>When a node is packing a block, it may pack a consignment order transaction before processing the user's revocation of the entrusted transaction. The new order can match the order that the user needs to cancel. At this time, the system will match the transaction to generate a transaction. If there is still a surplus of the order after the transaction, the remaining delegation will be revoked. If the order is completed, the transaction will be cancelled,This transaction finally confirms whether the user's revocation delegation is effective. Whether it is completely revoked, partially revoked or revoked invalid, it is clearly recorded in this transaction</p> <p>Restrictions:</p> <ul><li>It can only be generated when the consensus node packs blocks</li> <li>The confirmation order of the revocation order of consensus node must strictly comply with the nervedex module matching rules (the specific rules will be described in detail later). The packaged blocks will be verified throughout the network. If the verification fails, the blocks will not be packed</li></ul> <h2 id="underlying-implementation-mechanism-of-nervedex-module"><a href="#underlying-implementation-mechanism-of-nervedex-module" class="header-anchor">#</a> Underlying implementation mechanism of nervedex module</h2> <p><strong>Transaction broadcast and confirmation</strong></p> <p>The user can initiate the order transaction through the wallet or decentralized exchange. The transaction will be confirmed by the node first. If the confirmation fails, the error details will be returned directly. After the confirmation is successful, the node will broadcast the transaction to other nodes in the whole network. Finally, the consensus node will confirm the transaction and send the packet to the block. After the block is confirmed by Byzantine voting, the block will be finally persistent stored</p> <p><strong>Confirmation sequence of packaged transactions</strong></p> <p>The public chain of nervenetwork adopts pocbft consensus mechanism, which consists of at least 15 consensus nodes and at most 35 consensus nodes. Consensus nodes will produce blocks in turn, one block every 2 seconds, and each node will only produce one block in each round. The blocks will be finally confirmed after 66% consensus is reached through Byzantine voting of consensus nodes</p> <p>Due to the decentralized matchmaking mechanism, it is possible that the newly sent order transaction by the user can not be broadcast to the consensus node which is the turn to package the block. Therefore, the order of confirmation of the transaction is not the creation time sequence of the transaction, but the sequence of the consensus node after receiving the transaction and packing it into the block</p> <p><strong>Maintenance and matching rules</strong></p> <p>check:The lower the price, the farther away from the opening; the higher the price, the closer to the opening, and the priority of transaction; if the price is the same, the entrusted purchase order which is first packaged and confirmed will be closed first;</p> <p>Sales order:The higher the price is, the farther away from the opening; the lower the price is, the closer it is to the opening, and the transaction priority will be given; if the price is the same, the entrusted sales order which is first packaged and confirmed will be closed first;</p> <p><strong>Package matching transaction and cancellation confirmation</strong></p> <p>When the consensus node packs the block, it will match and generate the transaction according to the order of the packaged order transaction, and then match the transaction according to the matching rules. The generated transaction will also be added to the package block in order</p> <p>Each transaction will generate a transaction. At present, the maximum capacity accepted by a block of nerve network is to allow 200 transactions to be packed. If a hanging order consumes more than 200 orders, it will be sent to several consecutive blocks in batches</p> <p>If a pending order has not been completed or not completely completed, the node is packaged into a user's revocation delegation, then the revocation confirmation transaction is generated according to the remaining number of orders, and added to the packed block in order</p> <p><strong>Confirmation of blocks</strong></p> <p>After the consensus node packs the block, it will first broadcast to other consensus nodes. When the other consensus nodes receive the block, they will verify the order pending and cancellation entrustment transactions packaged in the block in turn. According to the order listing entrustment transaction, the transaction transaction is generated according to the matchmaking rules,Finally, Byzantine consensus is reached by consensus nodes</p> <p>After the block is confirmed, the data will be saved persistently. Only then can the data in the disk port be updated, and the completed and cancelled orders will be cancelled, and then the new orders will be added</p> <p>##Nervedex development direction</p> <ul><li>Continue to optimize the underlying protocol, improve transaction processing efficiency and block packaging efficiency</li> <li>Continuously optimize DEX API module, provide more interfaces for users to use, continuously optimize transaction interface function points, and give users a better experience</li> <li>It provides DEX API services and customized cloud services for the three parties</li> <li>Heterogeneous cross chain supports more public chain assets (currently, only nulssnrc20 and ethherc20 are supported, but gradually increased in the future, such as BTC, EOS, BNB main chain, etc.)</li></ul> <h2 id="others"><a href="#others" class="header-anchor">#</a> Others</h2> <p>Please refer to nervedex design document for details of new transaction protocol, protocol verification logic, module configuration description, and disk port maintenance and matchmaking</p> <p>Dex-api module provides exchange RPC interface. See nervedex-api interface document</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/NerveNetwork/nerve-docs/edit/master/docs/Docs/dex_module.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Docs/dex_api.html" class="prev">
        NerveDEX-API
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.577c4faa.js" defer></script><script src="/assets/js/2.bb387f8d.js" defer></script><script src="/assets/js/29.1b3b5ab1.js" defer></script>
  </body>
</html>
