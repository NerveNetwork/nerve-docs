<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>异构链离线跨链交易组装说明 | NerveNetwork</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="分布式数字资产服务网络">
    
    <link rel="preload" href="/assets/css/0.styles.8ed3cfd1.css" as="style"><link rel="preload" href="/assets/js/app.3be0cdeb.js" as="script"><link rel="preload" href="/assets/js/2.5522a63b.js" as="script"><link rel="preload" href="/assets/js/125.c59b322b.js" as="script"><link rel="prefetch" href="/assets/js/10.aaab0331.js"><link rel="prefetch" href="/assets/js/100.d565137a.js"><link rel="prefetch" href="/assets/js/101.9e3b5c39.js"><link rel="prefetch" href="/assets/js/102.a51ff8fc.js"><link rel="prefetch" href="/assets/js/103.2b7d878c.js"><link rel="prefetch" href="/assets/js/104.20e4ea1e.js"><link rel="prefetch" href="/assets/js/105.d6ca5ea2.js"><link rel="prefetch" href="/assets/js/106.5c71f523.js"><link rel="prefetch" href="/assets/js/107.c1fcb0ec.js"><link rel="prefetch" href="/assets/js/108.cb6507bb.js"><link rel="prefetch" href="/assets/js/109.079de791.js"><link rel="prefetch" href="/assets/js/11.de1b1bb1.js"><link rel="prefetch" href="/assets/js/110.980c506b.js"><link rel="prefetch" href="/assets/js/111.094cb4f9.js"><link rel="prefetch" href="/assets/js/112.6f555361.js"><link rel="prefetch" href="/assets/js/113.9c64fcbe.js"><link rel="prefetch" href="/assets/js/114.da5f67c8.js"><link rel="prefetch" href="/assets/js/115.78c72bf2.js"><link rel="prefetch" href="/assets/js/116.7d037e4d.js"><link rel="prefetch" href="/assets/js/117.680b928e.js"><link rel="prefetch" href="/assets/js/118.cf8814ed.js"><link rel="prefetch" href="/assets/js/119.68960d1d.js"><link rel="prefetch" href="/assets/js/12.60bebe4f.js"><link rel="prefetch" href="/assets/js/120.e958f94f.js"><link rel="prefetch" href="/assets/js/121.f6618995.js"><link rel="prefetch" href="/assets/js/122.327535c7.js"><link rel="prefetch" href="/assets/js/123.d2c5677e.js"><link rel="prefetch" href="/assets/js/124.4dfcc632.js"><link rel="prefetch" href="/assets/js/126.e773e3a2.js"><link rel="prefetch" href="/assets/js/127.b88cf317.js"><link rel="prefetch" href="/assets/js/128.31ed59b3.js"><link rel="prefetch" href="/assets/js/129.1942b128.js"><link rel="prefetch" href="/assets/js/13.6da5577e.js"><link rel="prefetch" href="/assets/js/130.92e7ccee.js"><link rel="prefetch" href="/assets/js/131.e5b585e2.js"><link rel="prefetch" href="/assets/js/132.7ee225f9.js"><link rel="prefetch" href="/assets/js/133.5356719b.js"><link rel="prefetch" href="/assets/js/134.7ddd1f9e.js"><link rel="prefetch" href="/assets/js/135.bdcc2b7f.js"><link rel="prefetch" href="/assets/js/136.ddb4a9ba.js"><link rel="prefetch" href="/assets/js/137.fd159483.js"><link rel="prefetch" href="/assets/js/138.a3a9f5e3.js"><link rel="prefetch" href="/assets/js/139.a3726039.js"><link rel="prefetch" href="/assets/js/14.e12ec450.js"><link rel="prefetch" href="/assets/js/140.dad10452.js"><link rel="prefetch" href="/assets/js/141.37283439.js"><link rel="prefetch" href="/assets/js/142.7a9aa32b.js"><link rel="prefetch" href="/assets/js/15.499f90eb.js"><link rel="prefetch" href="/assets/js/16.9b3ce8e8.js"><link rel="prefetch" href="/assets/js/17.f2a6cc44.js"><link rel="prefetch" href="/assets/js/18.65b7ab0d.js"><link rel="prefetch" href="/assets/js/19.629c4890.js"><link rel="prefetch" href="/assets/js/20.10d204d0.js"><link rel="prefetch" href="/assets/js/21.8028f678.js"><link rel="prefetch" href="/assets/js/22.70c31e41.js"><link rel="prefetch" href="/assets/js/23.3481bad2.js"><link rel="prefetch" href="/assets/js/24.3c3ff872.js"><link rel="prefetch" href="/assets/js/25.cfad418d.js"><link rel="prefetch" href="/assets/js/26.e5063f43.js"><link rel="prefetch" href="/assets/js/27.51409159.js"><link rel="prefetch" href="/assets/js/28.94ec7e73.js"><link rel="prefetch" href="/assets/js/29.b9034bc4.js"><link rel="prefetch" href="/assets/js/3.c8409cf5.js"><link rel="prefetch" href="/assets/js/30.27338ef4.js"><link rel="prefetch" href="/assets/js/31.f167505d.js"><link rel="prefetch" href="/assets/js/32.9eb4a810.js"><link rel="prefetch" href="/assets/js/33.3e07054b.js"><link rel="prefetch" href="/assets/js/34.bce2a94b.js"><link rel="prefetch" href="/assets/js/35.7871c057.js"><link rel="prefetch" href="/assets/js/36.cf844eec.js"><link rel="prefetch" href="/assets/js/37.67b3d142.js"><link rel="prefetch" href="/assets/js/38.2d0b5a36.js"><link rel="prefetch" href="/assets/js/39.54c51357.js"><link rel="prefetch" href="/assets/js/4.e47249ea.js"><link rel="prefetch" href="/assets/js/40.1ee79ddf.js"><link rel="prefetch" href="/assets/js/41.23c02fa9.js"><link rel="prefetch" href="/assets/js/42.5e085004.js"><link rel="prefetch" href="/assets/js/43.a61628ce.js"><link rel="prefetch" href="/assets/js/44.07bc7cc5.js"><link rel="prefetch" href="/assets/js/45.f45a261b.js"><link rel="prefetch" href="/assets/js/46.1b6bdd15.js"><link rel="prefetch" href="/assets/js/47.4cea2e25.js"><link rel="prefetch" href="/assets/js/48.d2feeb4a.js"><link rel="prefetch" href="/assets/js/49.43e7154b.js"><link rel="prefetch" href="/assets/js/5.31aa82d6.js"><link rel="prefetch" href="/assets/js/50.7b2519d7.js"><link rel="prefetch" href="/assets/js/51.69e08892.js"><link rel="prefetch" href="/assets/js/52.d0da07ac.js"><link rel="prefetch" href="/assets/js/53.ae092f5a.js"><link rel="prefetch" href="/assets/js/54.7d64c173.js"><link rel="prefetch" href="/assets/js/55.8c994502.js"><link rel="prefetch" href="/assets/js/56.5276f6c8.js"><link rel="prefetch" href="/assets/js/57.346975cc.js"><link rel="prefetch" href="/assets/js/58.471dcd94.js"><link rel="prefetch" href="/assets/js/59.3079b681.js"><link rel="prefetch" href="/assets/js/6.aac7a30b.js"><link rel="prefetch" href="/assets/js/60.fd7e1245.js"><link rel="prefetch" href="/assets/js/61.656f84c3.js"><link rel="prefetch" href="/assets/js/62.96fe7d85.js"><link rel="prefetch" href="/assets/js/63.bee208f6.js"><link rel="prefetch" href="/assets/js/64.074685b4.js"><link rel="prefetch" href="/assets/js/65.e24235c1.js"><link rel="prefetch" href="/assets/js/66.e7cd2c72.js"><link rel="prefetch" href="/assets/js/67.0648fad0.js"><link rel="prefetch" href="/assets/js/68.1383fb3d.js"><link rel="prefetch" href="/assets/js/69.b1011851.js"><link rel="prefetch" href="/assets/js/7.0da9588a.js"><link rel="prefetch" href="/assets/js/70.2322407e.js"><link rel="prefetch" href="/assets/js/71.dcc3f523.js"><link rel="prefetch" href="/assets/js/72.3f1429f3.js"><link rel="prefetch" href="/assets/js/73.0d541be1.js"><link rel="prefetch" href="/assets/js/74.ef18abab.js"><link rel="prefetch" href="/assets/js/75.23df97d4.js"><link rel="prefetch" href="/assets/js/76.003f2931.js"><link rel="prefetch" href="/assets/js/77.67aebd95.js"><link rel="prefetch" href="/assets/js/78.fb3b7626.js"><link rel="prefetch" href="/assets/js/79.d4004f04.js"><link rel="prefetch" href="/assets/js/8.3879f038.js"><link rel="prefetch" href="/assets/js/80.159e756b.js"><link rel="prefetch" href="/assets/js/81.cbc9cde2.js"><link rel="prefetch" href="/assets/js/82.8f81a222.js"><link rel="prefetch" href="/assets/js/83.ac356889.js"><link rel="prefetch" href="/assets/js/84.124f7d0f.js"><link rel="prefetch" href="/assets/js/85.791ab7bb.js"><link rel="prefetch" href="/assets/js/86.72e1fe97.js"><link rel="prefetch" href="/assets/js/87.9a18a9f9.js"><link rel="prefetch" href="/assets/js/88.c8260ef6.js"><link rel="prefetch" href="/assets/js/89.9dd5e7b5.js"><link rel="prefetch" href="/assets/js/9.ebc2b5ca.js"><link rel="prefetch" href="/assets/js/90.21218e27.js"><link rel="prefetch" href="/assets/js/91.cefe3bf7.js"><link rel="prefetch" href="/assets/js/92.85cdb2a8.js"><link rel="prefetch" href="/assets/js/93.5bb9937b.js"><link rel="prefetch" href="/assets/js/94.16ff9e4b.js"><link rel="prefetch" href="/assets/js/95.6defd573.js"><link rel="prefetch" href="/assets/js/96.0f4d93b8.js"><link rel="prefetch" href="/assets/js/97.7da545c4.js"><link rel="prefetch" href="/assets/js/98.17ce8f29.js"><link rel="prefetch" href="/assets/js/99.bbf2b7f0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8ed3cfd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/zh/" class="home-link router-link-active"><!----> <span class="site-name">NerveNetwork</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/zh/Guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/zh/Docs/" class="nav-link">
  开发
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/Guide/c_heterogeneous.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/NerveNetwork/nerve-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/zh/Guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/zh/Docs/" class="nav-link">
  开发
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh/Guide/c_heterogeneous.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/NerveNetwork/nerve-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/Guide/" aria-current="page" class="sidebar-link">Nerve是什么</a></li><li><a href="/zh/Guide/g_docker_install.html" class="sidebar-link">快速安装节点钱包</a></li><li><a href="/zh/Guide/g_cmd.html" class="sidebar-link">命令行使用手册</a></li><li><a href="/zh/Guide/g_nrc_dex.html" class="sidebar-link">NRC20上架DEX</a></li><li><a href="/zh/Guide/c_lp_staking.html" class="sidebar-link">LP参与Nerve网络staking</a></li><li><a href="/zh/Guide/c_eth_to_hecochain.html" class="sidebar-link">ETH网络资产通过Nerve网络跨链转入Heco网络</a></li><li><a href="/zh/Guide/g_liqudity.html" class="sidebar-link">如何在NerveSwap添加流动性和农场挖矿</a></li><li><a href="/zh/Guide/g_consensus.html" class="sidebar-link">如何在NerveNetwork参与主网共识Stake</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>跨链课堂</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/zh/Guide/c_nrc20.html" class="sidebar-link">NRC20 token跨链指南</a></li><li><a href="/zh/Guide/c_nuls_register.html" class="sidebar-link">如何注册跨链资产</a></li><li><a href="/zh/Guide/g_nervetoerc20.html" class="sidebar-link">NERVE资产注册跨链到ETH网络、BSC网络、Heco网络</a></li><li><a href="/zh/Guide/c_bep20_cross_erc20.html" class="sidebar-link">以太坊和BSC跨链指南</a></li><li><a href="/zh/Guide/c_heterogeneous.html" aria-current="page" class="active sidebar-link">异构链离线跨链交易组装说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/Guide/c_heterogeneous.html#异构链离线跨链交易组装说明" class="sidebar-link">异构链离线跨链交易组装说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/zh/Guide/c_heterogeneous.html#主网信息介绍" class="sidebar-link">主网信息介绍</a></li><li class="sidebar-sub-header"><a href="/zh/Guide/c_heterogeneous.html#测试网信息介绍" class="sidebar-link">测试网信息介绍</a></li><li class="sidebar-sub-header"><a href="/zh/Guide/c_heterogeneous.html#java支持" class="sidebar-link">JAVA支持</a></li><li class="sidebar-sub-header"><a href="/zh/Guide/c_heterogeneous.html#javascript支持" class="sidebar-link">JavaScript支持</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="异构链离线跨链交易组装说明"><a href="#异构链离线跨链交易组装说明" class="header-anchor">#</a> 异构链离线跨链交易组装说明</h2> <h3 id="主网信息介绍"><a href="#主网信息介绍" class="header-anchor">#</a> 主网信息介绍</h3> <ul><li>NERVE网络内注册的异构网络ID (用于跨链转出时指定转出的各个链网络)
<ul><li>Ethereum: 101</li> <li>Binance: 102</li> <li>Heco: 103</li></ul></li> <li>异构链网络多签合约 (用于跨链转入时指定各个链网络的资产锁定合约)
<ul><li>Ethereum: 0x6758d4C4734Ac7811358395A8E0c3832BA6Ac624</li> <li>Binance: 0x3758AA66caD9F2606F1F501c9CB31b94b713A6d5</li> <li>Heco: 0x23023c99dcede393d6d18ca7fb08541b3364fa90</li></ul></li></ul> <h3 id="测试网信息介绍"><a href="#测试网信息介绍" class="header-anchor">#</a> 测试网信息介绍</h3> <ul><li>NERVE网络内注册的异构网络ID (同上)
<ul><li>Ethereum: 101</li> <li>Binance: 102</li> <li>Heco: 103</li></ul></li> <li>异构链网络多签合约 (同上)
<ul><li>Ethereum: 0x7D759A3330ceC9B766Aa4c889715535eeD3c0484</li> <li>Binance: 0xf7915d4de86b856F3e51b894134816680bf09EEE</li> <li>Heco: 0xb339211438Dcbf3D00d7999ad009637472FC72b3</li></ul></li></ul> <h3 id="java支持"><a href="#java支持" class="header-anchor">#</a> JAVA支持</h3> <h4 id="java-sdk源代码仓库"><a href="#java-sdk源代码仓库" class="header-anchor">#</a> <code>JAVA-SDK</code>源代码仓库</h4> <ul><li><a href="https://github.com/NerveNetwork/nerve-sdk4j" target="_blank" rel="noopener noreferrer">https://github.com/NerveNetwork/nerve-sdk4j<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/NerveNetwork/heterogeneous-tool" target="_blank" rel="noopener noreferrer">https://github.com/NerveNetwork/heterogeneous-tool<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="_1-运行环境"><a href="#_1-运行环境" class="header-anchor">#</a> 1. 运行环境</h4> <ul><li><p>jdk1.8</p></li> <li><p>jar包依赖</p> <p>安卓端引入</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>network.nerve<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>heterogeneous-tool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.8-android-BETA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>network.nerve<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>nerve-sdk4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.7-BETA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>电脑端引入</p> <div class="language-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>network.nerve<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>heterogeneous-tool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.8-BETA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>network.nerve<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>nerve-sdk4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.7-BETA<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul> <h4 id="_2-工具包初始化"><a href="#_2-工具包初始化" class="header-anchor">#</a> 2. 工具包初始化</h4> <div class="language- extra-class"><pre><code>```java
// 测试网配置
NerveSDKBootStrap.initTest(&quot;http://beta.api.nerve.network/&quot;)
ETHTool.init(&quot;https://ropsten.infura.io/v3/e51e9f10a4f647af81d5f083873f27a5&quot;);
BSCTool.init(&quot;https://data-seed-prebsc-1-s1.binance.org:8545/&quot;);
HTTool.init(&quot;https://http-testnet.hecochain.com&quot;);

// 主网配置
ETHTool.init(&quot;http://geth.nerve.network&quot;);
BSCTool.init(&quot;https://bsc-dataseed.binance.org/&quot;);
HTTool.init(&quot;https://http-mainnet.hecochain.com&quot;);

```
</code></pre></div><h4 id="_3-跨链转入-从heco-ethereum-binance跨链转入nerve网络"><a href="#_3-跨链转入-从heco-ethereum-binance跨链转入nerve网络" class="header-anchor">#</a> 3. 跨链转入-从Heco,Ethereum,Binance跨链转入Nerve网络</h4> <ul><li>Heco网络跨链转入，参考代码示例，<code>multySignContractAddress</code>变量设置为此网络的多签合约地址</li> <li>Ethereum网络跨链转入，请将代码示例中的<code>HTTool</code>改为<code>ETHTool</code>，<code>multySignContractAddress</code>变量设置为此网络的多签合约地址</li> <li>Binance网络跨链转入，请将代码示例中的<code>HTTool</code>改为<code>BSCTool</code>，<code>multySignContractAddress</code>变量设置为此网络的多签合约地址</li> <li>以Heco网络测试网为例，展示跨链转入的离线组装代码，以下为代码示例
<ul><li><p>异构链网络主资产的转入</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 异构链网络主资产的转入</span>
<span class="token class-name">String</span> fromAddress <span class="token operator">=</span> <span class="token string">&quot;0xfa27c84eC062b2fF89EB297C24aaEd366079c684&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> privateKey <span class="token operator">=</span> <span class="token string">&quot;B36097415F57FE0AC1665858E3D007BA066A7C022EC712928D2372B27E8513FF&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> tokenAmount <span class="token operator">=</span> <span class="token string">&quot;2.125&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> tokenDecimals <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span>
<span class="token class-name">BigInteger</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>tokenAmount<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>TEN<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>tokenDecimals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBigInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> toAddress <span class="token operator">=</span> <span class="token string">&quot;TNVTdTSPEn3kK94RqiMffiKkXTQ2anRwhN1J9&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> multySignContractAddress <span class="token operator">=</span> <span class="token string">&quot;0xb339211438Dcbf3D00d7999ad009637472FC72b3&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> hash <span class="token operator">=</span> <span class="token class-name">HTTool</span><span class="token punctuation">.</span><span class="token function">rechargeHt</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> privateKey<span class="token punctuation">,</span> value<span class="token punctuation">,</span> toAddress<span class="token punctuation">,</span> multySignContractAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li> <li><p>ERC20标准的TOKEN资产的转入</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// ERC20标准的TOKEN资产的转入</span>
<span class="token class-name">String</span> fromAddress <span class="token operator">=</span> <span class="token string">&quot;0xfa27c84eC062b2fF89EB297C24aaEd366079c684&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> privateKey <span class="token operator">=</span> <span class="token string">&quot;B36097415F57FE0AC1665858E3D007BA066A7C022EC712928D2372B27E8513FF&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> tokenAmount <span class="token operator">=</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> tokenDecimals <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>
<span class="token class-name">BigInteger</span> value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>tokenAmount<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>TEN<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>tokenDecimals<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBigInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> toAddress <span class="token operator">=</span> <span class="token string">&quot;TNVTdTSPEn3kK94RqiMffiKkXTQ2anRwhN1J9&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> multySignContractAddress <span class="token operator">=</span> <span class="token string">&quot;0xb339211438Dcbf3D00d7999ad009637472FC72b3&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> erc20ContractAddress <span class="token operator">=</span> <span class="token string">&quot;0x3f1f3d17619e916c4f04707ba57d8e0b9e994fb0&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">boolean</span> authorized <span class="token operator">=</span> <span class="token class-name">HTTool</span><span class="token punctuation">.</span><span class="token function">isAuthorized</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> multySignContractAddress<span class="token punctuation">,</span> bep20ContractAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>authorized<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> authHash <span class="token operator">=</span> <span class="token class-name">HTTool</span><span class="token punctuation">.</span><span class="token function">authorization</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> privateKey<span class="token punctuation">,</span> multySignContractAddress<span class="token punctuation">,</span> bep20ContractAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token class-name">HTTool</span><span class="token punctuation">.</span><span class="token function">getTxReceipt</span><span class="token punctuation">(</span>authHash<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;等待8秒查询[ERC20授权]交易打包结果&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">String</span> hash <span class="token operator">=</span> <span class="token class-name">HTTool</span><span class="token punctuation">.</span><span class="token function">rechargeERC20</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> privateKey<span class="token punctuation">,</span> value<span class="token punctuation">,</span> toAddress<span class="token punctuation">,</span> multySignContractAddress<span class="token punctuation">,</span> erc20ContractAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul></li></ul> <h4 id="_4-跨链转出-从nerve网络跨链转出heco-ethereum-binance"><a href="#_4-跨链转出-从nerve网络跨链转出heco-ethereum-binance" class="header-anchor">#</a> 4. 跨链转出-从Nerve网络跨链转出Heco,Ethereum,Binance</h4> <p><b style="color:red;">注意: </b>当设置的跨链转出手续费不足时，Nerve网络不会向Heco,Ethereum,Binance发出交易，此转出会被暂停，直至手续费足够，追加手续费的交易见第5点</p> <ul><li><p>Heco, 设置异构链网络ID - 103</p></li> <li><p>Ethereum, 设置异构链网络ID - 101</p></li> <li><p>Binance, 设置异构链网络ID - 102</p></li> <li><p>以Heco测试网为例，展示跨链转出的离线组装代码</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token class-name">String</span> fromAddress <span class="token operator">=</span> <span class="token string">&quot;TNVTdTSPMcyC8e7jz8f6ngX5yTmK6S8CXEGva&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> prikey <span class="token operator">=</span> <span class="token string">&quot;17c50c6f7f18e7afd37d39f92c1d48054b6b3aa2373a70ecf2d6663eace2a7d6&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 声明提现资产ID</span>
<span class="token keyword">int</span> withdrawalAssetChainId <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> withdrawalAssetId <span class="token operator">=</span> <span class="token number">9</span><span class="token punctuation">;</span>
<span class="token comment">// 声明异构链网络ID</span>
<span class="token keyword">int</span> heterogeneousChainId <span class="token operator">=</span> <span class="token number">103</span><span class="token punctuation">;</span>
<span class="token comment">// 声明异构链网络提现接收地址</span>
<span class="token class-name">String</span> toAddress <span class="token operator">=</span> <span class="token string">&quot;0xc11D9943805e56b630A401D4bd9A29550353EFa1&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/**************************************** 以下需要在线请求的接口 ****************************************/</span>
<span class="token comment">// 获取账户提现资产、NVT资产的nonce值</span>
<span class="token class-name">String</span> withdrawalAssetNonce<span class="token punctuation">;</span>
<span class="token class-name">String</span> nvtFeeAssetNonce<span class="token punctuation">;</span>
<span class="token class-name">Result</span> withdrawalAssetBalance <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">getAccountBalance</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> withdrawalAssetChainId<span class="token punctuation">,</span> withdrawalAssetId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>withdrawalAssetBalance<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NulsException</span><span class="token punctuation">(</span><span class="token class-name">AccountErrorCode</span><span class="token punctuation">.</span>RPC_REQUEST_FAILD<span class="token punctuation">,</span> withdrawalAssetBalance<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Map</span> withdrawalAssetBalanceData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">)</span> withdrawalAssetBalance<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
withdrawalAssetNonce <span class="token operator">=</span> withdrawalAssetBalanceData<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;nonce&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Result</span> nvtFeeAssetBalance <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">getAccountBalance</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> <span class="token class-name">SDKContext</span><span class="token punctuation">.</span>main_chain_id<span class="token punctuation">,</span> <span class="token class-name">SDKContext</span><span class="token punctuation">.</span>main_asset_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nvtFeeAssetBalance<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NulsException</span><span class="token punctuation">(</span><span class="token class-name">AccountErrorCode</span><span class="token punctuation">.</span>RPC_REQUEST_FAILD<span class="token punctuation">,</span> nvtFeeAssetBalance<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Map</span> nvtFeeAssetBalanceData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">)</span> nvtFeeAssetBalance<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nvtFeeAssetNonce <span class="token operator">=</span> nvtFeeAssetBalanceData<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;nonce&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**************************************** 以下是完全离线方式组装提现交易 ****************************************/</span>
<span class="token class-name">WithdrawalTxDto</span> withdrawalTxDto <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WithdrawalTxDto</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置转出账户</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setFromAddress</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置提现资产ID</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setAssetChainId</span><span class="token punctuation">(</span>withdrawalAssetChainId<span class="token punctuation">)</span><span class="token punctuation">;</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setAssetId</span><span class="token punctuation">(</span>withdrawalAssetId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置异构链网络ID</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setHeterogeneousChainId</span><span class="token punctuation">(</span>heterogeneousChainId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置异构链提现接收地址</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setHeterogeneousAddress</span><span class="token punctuation">(</span>toAddress<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 设置提现金额</span>
<span class="token class-name">String</span> amount <span class="token operator">=</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 设置小数位</span>
<span class="token keyword">int</span> decimals <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">;</span> <span class="token comment">//</span>
<span class="token class-name">BigDecimal</span> am <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">movePointRight</span><span class="token punctuation">(</span>decimals<span class="token punctuation">)</span><span class="token punctuation">;</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setAmount</span><span class="token punctuation">(</span>am<span class="token punctuation">.</span><span class="token function">toBigInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 设置提现的NVT手续费</span>
<span class="token class-name">String</span> feeStr <span class="token operator">=</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> decimalsFee <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span> <span class="token comment">//小数位</span>
<span class="token class-name">BigDecimal</span> fee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>feeStr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">movePointRight</span><span class="token punctuation">(</span>decimalsFee<span class="token punctuation">)</span><span class="token punctuation">;</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setDistributionFee</span><span class="token punctuation">(</span>fee<span class="token punctuation">.</span><span class="token function">toBigInteger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
withdrawalTxDto<span class="token punctuation">.</span><span class="token function">setRemark</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 组装离线交易</span>
<span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">createWithdrawalTx</span><span class="token punctuation">(</span>withdrawalTxDto<span class="token punctuation">,</span> withdrawalAssetNonce<span class="token punctuation">,</span> nvtFeeAssetNonce<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> txHex <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;txHex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 离线交易签名</span>
result <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>txHex<span class="token punctuation">,</span> fromAddress<span class="token punctuation">,</span> prikey<span class="token punctuation">)</span><span class="token punctuation">;</span>
txHex <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;txHex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> txHash <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;hash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/***************************************************************************************************/</span>

<span class="token comment">// 在线接口，广播交易</span>
result <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">broadcast</span><span class="token punctuation">(</span>txHex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Transaction</span> tx <span class="token operator">=</span> <span class="token class-name">Transaction</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">HexUtil</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>txHex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hash: %s&quot;</span><span class="token punctuation">,</span> txHash<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hash: %s&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JSONUtils</span><span class="token punctuation">.</span><span class="token function">obj2json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div></li></ul> <h4 id="_5-跨链转出手续费追加"><a href="#_5-跨链转出手续费追加" class="header-anchor">#</a> 5. 跨链转出手续费追加</h4> <ul><li><p>当提现交易发出后，Nerve网络会计算跨链到异构网络所需的手续费，若手续费不足，则会暂停发出跨链交易，因此，需要追加手续费</p></li> <li><p><b style="color:red;">注意</b> 以下两点</p> <ul><li>不能为已完成的提现交易追加手续费</li> <li>提现交易与追加手续费交易必须由相同的地址发起（相同私钥签名）</li></ul></li> <li><p>以下为代码示例</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">// 设置追加手续费的账户，必须与提现账户一致</span>
<span class="token class-name">String</span> fromAddress <span class="token operator">=</span> <span class="token string">&quot;TNVTdTSPMcyC8e7jz8f6ngX5yTmK6S8CXEGva&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> prikey <span class="token operator">=</span> <span class="token string">&quot;17c50c6f7f18e7afd37d39f92c1d48054b6b3aa2373a70ecf2d6663eace2a7d6&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 发出的提现交易hash</span>
<span class="token class-name">String</span> withdrawalTxHash <span class="token operator">=</span> <span class="token string">&quot;2dae6440f691e08552dd707a22412a6474c91e8f10810fd0dbddac301b167dff&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 追加的NVT手续费，此处设置为追加10个NVT</span>
<span class="token class-name">BigInteger</span> amount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;1000000000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> remark <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

<span class="token comment">/**************************************** 以下需要在线请求的接口 ****************************************/</span>
<span class="token comment">// 获取账NVT资产的nonce值</span>
<span class="token class-name">String</span> nvtFeeAssetNonce<span class="token punctuation">;</span>
<span class="token class-name">Result</span> nvtFeeAssetBalance <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">getAccountBalance</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> <span class="token class-name">SDKContext</span><span class="token punctuation">.</span>main_chain_id<span class="token punctuation">,</span> <span class="token class-name">SDKContext</span><span class="token punctuation">.</span>main_asset_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nvtFeeAssetBalance<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NulsException</span><span class="token punctuation">(</span><span class="token class-name">AccountErrorCode</span><span class="token punctuation">.</span>RPC_REQUEST_FAILD<span class="token punctuation">,</span> nvtFeeAssetBalance<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Map</span> nvtFeeAssetBalanceData <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token punctuation">)</span> nvtFeeAssetBalance<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
nvtFeeAssetNonce <span class="token operator">=</span> nvtFeeAssetBalanceData<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;nonce&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**************************************** 以下是完全离线方式组装提现交易 ****************************************/</span>
<span class="token comment">// 组装离线交易</span>
<span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">withdrawalAdditionalFeeTx</span><span class="token punctuation">(</span>fromAddress<span class="token punctuation">,</span> withdrawalTxHash<span class="token punctuation">,</span> amount<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> remark<span class="token punctuation">,</span> nvtFeeAssetNonce<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> txHex <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;txHex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 离线交易签名</span>

result <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">sign</span><span class="token punctuation">(</span>txHex<span class="token punctuation">,</span> fromAddress<span class="token punctuation">,</span> prikey<span class="token punctuation">)</span><span class="token punctuation">;</span>
txHex <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;txHex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> txHash <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;hash&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/***************************************************************************************************/</span>
<span class="token comment">// 在线接口，广播交易</span>
result <span class="token operator">=</span> <span class="token class-name">NerveSDKTool</span><span class="token punctuation">.</span><span class="token function">broadcast</span><span class="token punctuation">(</span>txHex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Transaction</span> tx <span class="token operator">=</span> <span class="token class-name">Transaction</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token class-name">HexUtil</span><span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>txHex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>tx<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">WithdrawalAdditionalFeeTxData</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hash: %s&quot;</span><span class="token punctuation">,</span> txHash<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;hash: %s&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JSONUtils</span><span class="token punctuation">.</span><span class="token function">obj2json</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ul> <h3 id="javascript支持"><a href="#javascript支持" class="header-anchor">#</a> JavaScript支持</h3> <h4 id="javascript-sdk源代码仓库"><a href="#javascript-sdk源代码仓库" class="header-anchor">#</a> <code>JavaScript-SDK</code>源代码仓库</h4> <ul><li><a href="https://github.com/nerve-admin/nerve-js-sdk" target="_blank" rel="noopener noreferrer">https://github.com/nerve-admin/nerve-js-sdk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h4 id="_1-运行环境-2"><a href="#_1-运行环境-2" class="header-anchor">#</a> 1. 运行环境</h4> <ul><li><p>node.js</p></li> <li><p>核心依赖包</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;nerve-sdk-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.4&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ethers&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.47&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ul> <h4 id="_2-初始化"><a href="#_2-初始化" class="header-anchor">#</a> 2. 初始化</h4> <p><em><strong>参考示例代码</strong><a href="https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgConfig.js" target="_blank" rel="noopener noreferrer">https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgConfig.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p> <ul><li><p>测试网配置</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">HTGNET</span> <span class="token operator">=</span> <span class="token string">'ropsten'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">NERVE_INFO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    chainId<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    assetId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    prefix<span class="token operator">:</span> <span class="token string">&quot;TNVT&quot;</span><span class="token punctuation">,</span>
    symbol<span class="token operator">:</span> <span class="token string">&quot;TNVT&quot;</span><span class="token punctuation">,</span>
    decimals<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    blackHolePublicKey<span class="token operator">:</span> <span class="token string">&quot;000000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    blockHoleAddress<span class="token operator">:</span> <span class="token string">&quot;TNVTdTSPGwjgRMtHqjmg8yKeMLnpBpVN5ZuuY&quot;</span><span class="token punctuation">,</span>
    feePubkey<span class="token operator">:</span> <span class="token string">&quot;111111111111111111111111111111111111111111111111111111111111111111&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>主网配置</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token constant">HTGNET</span> <span class="token operator">=</span> <span class="token string">'homestead'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token constant">NERVE_INFO</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    chainId<span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
    assetId<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    prefix<span class="token operator">:</span> <span class="token string">&quot;NERVE&quot;</span><span class="token punctuation">,</span>
    symbol<span class="token operator">:</span> <span class="token string">&quot;NVT&quot;</span><span class="token punctuation">,</span>
    decimals<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    blackHolePublicKey<span class="token operator">:</span> <span class="token string">&quot;000000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span>
    blockHoleAddress<span class="token operator">:</span> <span class="token string">&quot;NERVEepb63T1M8JgQ26jwZpZXYL8ZMLdUAK31L&quot;</span>
    feePubkey<span class="token operator">:</span> <span class="token string">&quot;111111111111111111111111111111111111111111111111111111111111111111&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li></ul> <h4 id="_3-异构链rpc服务api选择"><a href="#_3-异构链rpc服务api选择" class="header-anchor">#</a> 3. 异构链RPC服务API选择</h4> <ul><li>HECO
<ul><li><code>let provider = getProvider(&quot;HT&quot;, HTGNET);</code></li></ul></li> <li>Binance
<ul><li><code>let provider = getProvider(&quot;BNB&quot;, HTGNET);</code></li></ul></li> <li>Ethereum
<ul><li><code>let provider = getProvider(&quot;ETH&quot;, HTGNET);</code></li></ul></li></ul> <h4 id="_4-跨链转入-从heco-ethereum-binance跨链转入nerve网络"><a href="#_4-跨链转入-从heco-ethereum-binance跨链转入nerve网络" class="header-anchor">#</a> 4. 跨链转入-从Heco,Ethereum,Binance跨链转入Nerve网络</h4> <p><em><strong>参考示例代码</strong> <a href="https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgRecharge.js" target="_blank" rel="noopener noreferrer">https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgRecharge.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p> <ul><li>跨链转入主币，请参考函数<code>crossMainAssetTest</code></li> <li>跨链转入ERC20标准的token代币，请参考函数<code>crossTokenTest</code> <ul><li><strong><b style="color:red;">注意</b></strong> 跨链转入token代币之前，需要用户授权token给多签合约，请使用以下函数授权</li></ul></li> <li>授权ERC20，请参考函数<code>approveCrossTokenTest</code></li></ul> <h4 id="_5-跨链转出-从nerve网络跨链转出heco-ethereum-binance"><a href="#_5-跨链转出-从nerve网络跨链转出heco-ethereum-binance" class="header-anchor">#</a> 5. 跨链转出-从Nerve网络跨链转出Heco,Ethereum,Binance</h4> <p><em><strong>参考示例代码</strong> <a href="https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgWithdrawal.js" target="_blank" rel="noopener noreferrer">https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgWithdrawal.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p> <ul><li>跨链转出，请参考函数<code>withdrawalTest</code></li> <li><b style="color:red;">注意: </b>当设置的跨链转出手续费不足时，Nerve网络不会向Heco,Ethereum,Binance发出交易，此转出会被暂停，直至手续费足够，追加手续费的交易见第6点</li></ul> <h4 id="_6-跨链转出手续费追加"><a href="#_6-跨链转出手续费追加" class="header-anchor">#</a> 6. 跨链转出手续费追加</h4> <p><em><strong>参考示例代码</strong> <a href="https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgWithdrawalAddFee.js" target="_blank" rel="noopener noreferrer">https://github.com/nerve-admin/nerve-js-sdk/blob/main/src/test/htgWithdrawalAddFee.js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></em></p> <ul><li><p>追加跨链转出的手续费，请参考函数<code>withdrawalAddFeeTest</code></p> <h5 id="交易说明"><a href="#交易说明" class="header-anchor">#</a> 交易说明</h5> <ul><li>当提现交易发出后，Nerve网络会计算跨链到异构网络所需的手续费，若手续费不足，则会暂停发出跨链交易，因此，需要追加手续费</li> <li><b style="color:red;">注意</b> 以下两点
<ul><li>不能为已完成的提现交易追加手续费</li> <li>提现交易与追加手续费交易必须由相同的地址发起（相同私钥签名）</li></ul></li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/NerveNetwork/nerve-docs/edit/master/docs/zh/Guide/c_heterogeneous.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021-1-21 4:14:53 ├F10: PM┤</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/zh/Guide/c_bep20_cross_erc20.html" class="prev">
        以太坊和BSC跨链指南
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3be0cdeb.js" defer></script><script src="/assets/js/2.5522a63b.js" defer></script><script src="/assets/js/125.c59b322b.js" defer></script>
  </body>
</html>
