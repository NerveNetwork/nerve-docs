(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{448:function(e,a,s){"use strict";s.r(a);var t=s(33),n=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"quickly-install-node-wallet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quickly-install-node-wallet"}},[e._v("#")]),e._v(" Quickly install node wallet")]),e._v(" "),s("h2",{attrs:{id:"install-docker-under-linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-docker-under-linux"}},[e._v("#")]),e._v(" Install docker under Linux")]),e._v(" "),s("h3",{attrs:{id:"log-in-to-the-system-as-a-user-with-root-privileges-and-view-the-system-kernel-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log-in-to-the-system-as-a-user-with-root-privileges-and-view-the-system-kernel-version"}},[e._v("#")]),e._v(" Log in to the system as a user with root privileges and view the system kernel version")]),e._v(" "),s("p",[e._v("The return value is greater than 3.10")]),e._v(" "),s("p",[e._v("Command: uname -r")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[root@hope-2 /]# uname -r\n3.10.0-957.27.2.el7.x86_64\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h3",{attrs:{id:"make-sure-yum-is-the-latest-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#make-sure-yum-is-the-latest-version"}},[e._v("#")]),e._v(" Make sure yum is the latest version")]),e._v(" "),s("p",[e._v("Command: yum update")]),e._v(" "),s("h3",{attrs:{id:"add-yum-repository"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-yum-repository"}},[e._v("#")]),e._v(" Add yum repository")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("tee /etc/yum.repos.d/docker.repo <<-'EOF'\n[dockerrepo]\nname=Docker Repository\nbaseurl=https://yum.dockerproject.org/repo/main/centos/$releasever/\nenabled=1\ngpgcheck=1\ngpgkey=https://yum.dockerproject.org/gpg\nEOF\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("h3",{attrs:{id:"install-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-docker"}},[e._v("#")]),e._v(" Install docker")]),e._v(" "),s("p",[e._v("Perform the following use cases to install separately:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yum install -y yum-utils device-mapper-persistent-data lvm2\nyum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo\nyum makecache fast\nyum -y install docker-ce\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("h3",{attrs:{id:"start-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-docker"}},[e._v("#")]),e._v(" Start docker")]),e._v(" "),s("p",[e._v("Command: systemctl start docker.service")]),e._v(" "),s("h3",{attrs:{id:"check-success"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-success"}},[e._v("#")]),e._v(" Check success")]),e._v(" "),s("p",[e._v("Use the command docker version to view, and the Client and Server appear indicating that the docker installation is started")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("[root@hope-2 /]# docker version\nClient: Docker Engine-Community\n Version: 19.03.11\n API version: 1.40\n Go version: go1.13.10\n Git commit: 42e35e61f3\n Built: Mon Jun 1 09:13:48 2020\n OS/Arch: linux/amd64\n Experimental: false\n\nServer: Docker Engine-Community\n Engine:\n  Version: 19.03.11\n  API version: 1.40 (minimum version 1.12)\n  Go version: go1.13.10\n  Git commit: 42e35e61f3\n  Built: Mon Jun 1 09:12:26 2020\n  OS/Arch: linux/amd64\n  Experimental: false\n containerd:\n  Version: 1.2.13\n  GitCommit: 7ad184331fa3e55e52b890ea95e65ba581ae3429\n runc:\n  Version: 1.0.0-rc10\n  GitCommit: dc9208a3303feef5b3839f4323d9beb36df0a9dd\n docker-init:\n  Version: 0.18.0\n  GitCommit: fec3683\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br"),s("span",{staticClass:"line-number"},[e._v("18")]),s("br"),s("span",{staticClass:"line-number"},[e._v("19")]),s("br"),s("span",{staticClass:"line-number"},[e._v("20")]),s("br"),s("span",{staticClass:"line-number"},[e._v("21")]),s("br"),s("span",{staticClass:"line-number"},[e._v("22")]),s("br"),s("span",{staticClass:"line-number"},[e._v("23")]),s("br"),s("span",{staticClass:"line-number"},[e._v("24")]),s("br"),s("span",{staticClass:"line-number"},[e._v("25")]),s("br"),s("span",{staticClass:"line-number"},[e._v("26")]),s("br"),s("span",{staticClass:"line-number"},[e._v("27")]),s("br"),s("span",{staticClass:"line-number"},[e._v("28")]),s("br")])]),s("h3",{attrs:{id:"set-to-start-automatically-at-boot"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#set-to-start-automatically-at-boot"}},[e._v("#")]),e._v(" Set to start automatically at boot")]),e._v(" "),s("p",[e._v("Command: sudo systemctl enable docker")]),e._v(" "),s("h2",{attrs:{id:"install-docker-under-windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install-docker-under-windows"}},[e._v("#")]),e._v(" Install docker under Windows")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/virtualization/windowscontainers/quick-start/set-up-environment?tabs=Windows-Server",target:"_blank",rel:"noopener noreferrer"}},[e._v("Reference link"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"start-nerve-node-wallet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start-nerve-node-wallet"}},[e._v("#")]),e._v(" Start Nerve node wallet")]),e._v(" "),s("h3",{attrs:{id:"wallet-startup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#wallet-startup"}},[e._v("#")]),e._v(" Wallet startup")]),e._v(" "),s("p",[e._v("The node wallet has the most basic functions required for the operation of the main chain, and includes the nerve-api (http development interface) module. Users can only interact with the wallet through the command line.")]),e._v(" "),s("p",[e._v("Run the command:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker run \\\n       --name nerve-wallet \\\n       -d \\\n       -p 17001:17001 \\\n       -p 17002:17002 \\\n       -p 17004:17004 \\\n       -v `pwd`/data:/data \\\n       -v `pwd`/logs:/nuls/Logs \\\n       nervenetwork/nerve-wallet-node:beta-1.0.0\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("p",[e._v("17001 Nerve chain protocol communication port (required)")]),e._v(" "),s("p",[e._v("17002 Nerve chain cross-chain protocol port (required)")]),e._v(" "),s("p",[e._v("17004 http api interface using port (optional)")]),e._v(" "),s("p",[e._v("/nuls/data data storage directory")]),e._v(" "),s("p",[e._v("/nuls/Logs Log storage directory")]),e._v(" "),s("p",[e._v("PS: Be sure to enable the above ports in the server firewall settings, otherwise it will affect the block synchronization")]),e._v(" "),s("h3",{attrs:{id:"enter-the-wallet-and-wallet-management-commands"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#enter-the-wallet-and-wallet-management-commands"}},[e._v("#")]),e._v(" Enter the wallet and wallet management commands")]),e._v(" "),s("p",[e._v("Enter the wallet command line:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker exec -it nerve-wallet cmd\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Enter the wallet directory:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker exec -it nerve-wallet bash\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Check the module startup status:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker exec -it nerve-wallet check-status\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Stop wallet:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker stop nerve-wallet\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Start the wallet:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker start nerve-wallet\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Restart the wallet:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker restart nerve-wallet\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"docker-compose-installation-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-installation-start"}},[e._v("#")]),e._v(" docker-compose installation start")]),e._v(" "),s("p",[e._v("After the docker installation starts successfully, execute the following two commands to install docker-compose and grant permissions:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('sudo curl -L "https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/ bin/docker-compose\nsudo chmod +x /usr/local/bin/docker-compose\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("After the installation is successful, create a new file docker-compose.yml in a directory (optional), write the following code and save it:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("version: '3.1'\nservices:\n  nerve:\n    image: nervenetwork/nerve-wallet-node:beta-1.0.0\n    restart: always\n    container_name: nerve-wallet\n    ports:\n      # Port Mapping\n      -17001:17001\n      -17002:17002\n      -17004:17004\n    volumes:\n      # Database directory mapping\n      -./data:/nuls/data\n      -./logs:/nuls/Logs\n    environment:\n      TIME_ZONE: Asia/Shanghai\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br"),s("span",{staticClass:"line-number"},[e._v("11")]),s("br"),s("span",{staticClass:"line-number"},[e._v("12")]),s("br"),s("span",{staticClass:"line-number"},[e._v("13")]),s("br"),s("span",{staticClass:"line-number"},[e._v("14")]),s("br"),s("span",{staticClass:"line-number"},[e._v("15")]),s("br"),s("span",{staticClass:"line-number"},[e._v("16")]),s("br"),s("span",{staticClass:"line-number"},[e._v("17")]),s("br")])]),s("p",[e._v("Wallet start and stop commands:")]),e._v(" "),s("p",[e._v("Start: docker-compose up -d")]),e._v(" "),s("p",[e._v("Stop: docker-compose down")]),e._v(" "),s("h2",{attrs:{id:"nerve-node-wallet-update"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nerve-node-wallet-update"}},[e._v("#")]),e._v(" Nerve node wallet update")]),e._v(" "),s("p",[e._v("First stop the running image on the server")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker stop nerve-wallet\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Use the command to view the wallet container and delete the container according to the container ID")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('[root@c-7 ~]# docker ps -a\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n9b5f87f013fa a26aa7ced583 "/usr/local/bin/entr…" 15 hours ago Exited (137) 55 seconds ago nerve-wallet\n\n[root@c-7 ~]# docker rm 9b5f87f013fa\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("Re-pull the image")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker pull nervenetwork/nerve-wallet-node:beta-1.0.0\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Just start the nerve node wallet again, and repeat the three and four operations (if you need to clear the data, please delete the data and logs directories under the root directory)")])])}),[],!1,null,null,null);a.default=n.exports}}]);